<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link rel="stylesheet" href="../../printingtoolsng-help.css" type="text/css" />
    <title>PrintingTools NG 帮助</title>
  </head>
  <body>
    <table style="width: 100%;">
      <tr>
        <td style="vertical-align: top;">
          <div style="font-size: 1.8em; font-weight: bold;">PrintingTools NG 帮助</div>
          <div id="extVersion" style="padding-left: 4px;">v2.2.1</div>
        </td>
        <td style="text-align: right; padding-right: 30px;">
          <img src="resource://printingtoolsng/icons/printing-tools-ng-icon-64px.png" />
        </td>
      </tr>
    </table>
    <br />
    <h2 id="main_help">PrintingTools NG 概述</h2>
    <p>
      PrintingTools NG
      允许对电子邮件打印进行许多自定义。该扩展为标题和消息部分提供了许多选项。此外，还可以设置页面选项，而这些选项在普通的
      Thunderbird 打印预览中是无法设置的。PDF 输出还可以使用基于灵活令牌的系统自动命名。
    </p>
    <h3 class="indent0">将“打印 NG”按钮添加到邮件标题工具栏：</h3>
    <p>
      从 Thunderbird v115 开始，Print NG
      按钮会自动添加到统一工具栏中。该按钮还可以添加到邮件标题工具栏中，以便同时启用打印访问以及邮件窗格中的选项。此外，还可以通过插件选项卡上扩展的扳手按钮访问选项。
    </p>
    <div class="indent0"><img src="resource://printingtoolsng/icons/toolbar-button.png" /></div>
    <br />
    <p>按照以下步骤将按钮放置在邮件标题工具栏上：</p>
    <div class="indent1">
      <li>单击邮件标题工具栏上的更多按钮</li>
      <li>选择自定义...这将打开自定义工具栏窗口</li>
      <li>找到“打印 NG”按钮</li>
      <li>将按钮拖放到所需位置</li>
      <li>使用打印、预览、选项和帮助按钮</li>
    </div>
    <h3 class="indent0">PrintingTools NG 键盘快捷键</h3>
    <p>
      PrintingTools 重新映射了标准的 Thunderbird Print 快捷键，以调用其自身而不是标准 Print。在 Windows 和
      Linux 上，使用 Control-P；在 Mac 上，使用 Command-P。也可以使用 Control-Shift-P 打开选项对话框。
    </p>
    <h3 class="indent0">以下是一些标题格式功能的示例：</h3>
    <div class="indent1">
      <li>使用 CSS 自定义标题边框样式（顶部和底部，蓝色）</li>
      <li>标题背景颜色</li>
      <li>对齐标题</li>
      <li>自定义标题顺序</li>
      <li>页面标题和消息文件夹</li>
      <li>标题中带有图标的附件列表</li>
      <li>完全可定制的日期格式国际格式</li>
    </div>
    <br />
    <div class="indent0"><img src="resource://printingtoolsng/icons/Ptngex1.png" /></div>
    <br />
    <h2 id="customdate_format_help">自定义日期格式</h2>
    <p>
      自定义日期选项允许完全控制电子邮件标题中的日期和接收日期所使用的日期格式。自定义日期提供多个本地化选项，允许几乎任何格式。请注意，自定义日期字符串可以包含分隔符、文字（包括与下面列出的日期\时间标记混合的
      Unicode 字符）。<br /><br />注意：以下示例中的自定义日期结果将根据实际日期、用户所在区域和时区而有所不同。
    </p>
    <br />
    <h3 class="indent0">例子：</h3>
    <table class="dateformat-table">
      <thead>
        <tr>
          <td>日期字符串</td>
          <td>结果</td>
          <td>笔记</td>
        </tr>
      </thead>
      <tr>
        <td><code class="code1 notranslate">%Y%0%m%1%d%2 %a %t %H:%M:%S [GMT %z]</code></td>
        <td class="notranslate">2022年04月20日 水 JST 16:06:45 [GMT +0900]</td>
        <td>ja 语言环境及文字</td>
      </tr>
      <tr>
        <td><code class="code1 notranslate">%Y%0%m%1%d%2 %a %t %H:%M:%S</code></td>
        <td class="notranslate">2022년04월20일 수 KST 16:11:06</td>
        <td>ko 语言环境和文字</td>
      </tr>
      <tr>
        <td><code class="code1 notranslate">%Y%0%m%1%d%2 %a %H:%M:%S %Z</code></td>
        <td class="notranslate">2022年04月20日 周三 18:01:42 北京时间</td>
        <td>zh-CN 语言环境，短日期</td>
      </tr>
      <tr>
        <td><code class="code1 notranslate">%Y%0%m%1%d%2 %A %H:%M:%S %t</code></td>
        <td class="notranslate">2022年04月20日 星期三 18:01:42 CST</td>
        <td>zh-TW 语言环境，长日照</td>
      </tr>
      <tr>
        <td><code class="code1 notranslate">%d.%m.%Y %H:%M:%S %t</code></td>
        <td class="notranslate">20.04.2022 18:01:42 CET</td>
        <td>点分隔符</td>
      </tr>
      <tr>
        <td><code class="code1 notranslate">%a, %b %d %Y %H:%M:%S</code></td>
        <td class="notranslate">Mi, Apr 20 2022 18:01:42</td>
        <td>本地化，短日/月</td>
      </tr>
      <tr>
        <td><code class="code1 notranslate">%A, %B %d %Y (%H:%M:%S) %t</code></td>
        <td class="notranslate">Wednesday, April 20 2022 (18:01:42) EDT</td>
        <td>en-US 语言环境，长日/月</td>
      </tr>
    </table>
    <br />
    <p>
      自定义日期格式利用与<code>strftime()</code> Unix 类功能相匹配的 % 序列。它基于<a
        class="link1"
        href="http://man7.org/linux/man-pages/man3/strftime.3.html"
        ><code>strftime()</code></a
      >的 JavaScript 端口，该函数用于格式化日期和时间。<br />
      TH Doan 移植的 strftime()（https://thdoan.github.io/strftime/）<br />
    </p>
    <br />
    <h3 style="margin-left: 30px;">转换序列说明</h3>
    <table class="dateformat-table">
      <thead>
        <tr>
          <th>顺序</th>
          <th>描述</th>
        </tr>
      </thead>
      <tbody>
        <tr>
          <td><code class="code1">%a</code></td>
          <td>星期几的缩写名称。</td>
        </tr>
        <tr>
          <td><code class="code1">%A</code></td>
          <td>星期几的全名。</td>
        </tr>
        <tr>
          <td><code class="code1">%b</code></td>
          <td>月份名称的缩写。</td>
        </tr>
        <tr>
          <td><code class="code1">%B</code></td>
          <td>完整月份名称。</td>
        </tr>
        <tr>
          <td><code class="code1">%c</code></td>
          <td>当前区域设置的首选日期和时间 (UTC) 表示。</td>
        </tr>
        <tr>
          <td><code class="code1">%C</code></td>
          <td>世纪数（年/100）作为 2 位整数。</td>
        </tr>
        <tr>
          <td><code class="code1">%d</code></td>
          <td>以十进制数表示的月份日期（范围是 01 至 31）。</td>
        </tr>
        <tr>
          <td><code class="code1">%e</code></td>
          <td>以十进制数表示的月份日期（范围为 1 至 31）。</td>
        </tr>
        <tr>
          <td><code class="code1">%F</code></td>
          <td>ISO 8601 日期格式（相当于<code class="code1">%Y-%m-%d</code> ）。</td>
        </tr>
        <tr>
          <td><code class="code1">%G</code></td>
          <td>
            ISO 8601 基于周的年份，以十进制数表示世纪。4 位数字年份对应于 ISO 周数（参见<code class="code1"
              >%V</code
            >
            ）。其格式和值与<code class="code1">%Y</code>相同，但如果 ISO
            周数属于上一年或下一年，则使用该年份。
          </td>
        </tr>
        <tr>
          <td><code class="code1">%g</code></td>
          <td>与<code class="code1">%G</code>类似，但没有世纪，即使用 2 位数字的年份 (00-99)。</td>
        </tr>
        <tr>
          <td><code class="code1">%H</code></td>
          <td>
            使用 24 小时制的十进制数表示小时数（范围为 00 至 23）。另请参阅<code class="code1">%k</code> 。
          </td>
        </tr>
        <tr>
          <td><code class="code1">%I</code></td>
          <td>
            使用 12 小时制时钟（范围为 01 到 12）以十进制数表示的小时数。另请参阅<code class="code1">%l</code>
            。
          </td>
        </tr>
        <tr>
          <td><code class="code1">%j</code></td>
          <td>一年中的第几天，以十进制数表示（范围是 001 至 366）。</td>
        </tr>
        <tr>
          <td><code class="code1">%k</code></td>
          <td>
            使用 24 小时制的十进制数表示小时数（范围为 0 到 23）。另请参阅<code class="code1">%H</code> 。
          </td>
        </tr>
        <tr>
          <td><code class="code1">%l</code></td>
          <td>
            使用 12 小时制（范围为 1 到 12）以十进制数表示的小时数。另请参阅<code class="code1">%I</code> 。
          </td>
        </tr>
        <tr>
          <td><code class="code1">%m</code></td>
          <td>月份为十进制数（范围为 01 至 12）。</td>
        </tr>
        <tr>
          <td><code class="code1">%n</code></td>
          <td>月份为十进制数（范围为 1 至 12）。</td>
        </tr>
        <tr>
          <td><code class="code1">%M</code></td>
          <td>分钟为十进制数（范围 00 至 59）。</td>
        </tr>
        <tr>
          <td><code class="code1">%p</code></td>
          <td>根据给定的时间值，可以是“AM”或“PM”。中午被视为“PM”，午夜被视为“AM”。</td>
        </tr>
        <tr>
          <td><code class="code1">%P</code></td>
          <td>类似于<code class="code1">%p</code>但采用小写形式（“am”或“pm”）。</td>
        </tr>
        <tr>
          <td><code class="code1">%s</code></td>
          <td>自纪元 1970-01-01 00:00:00 +0000 (UTC) 以来的秒数。</td>
        </tr>
        <tr>
          <td><code class="code1">%S</code></td>
          <td>以十进制数表示的秒数（范围是 00 至 59）。</td>
        </tr>
        <tr>
          <td><code class="code1">%u</code></td>
          <td>星期几以十进制表示（范围是 1 到 7），星期一为 1。另请参阅<code class="code1">%w</code> 。</td>
        </tr>
        <tr>
          <td><code class="code1">%V</code></td>
          <td>
            ISO 8601 当前年份的周数，以十进制数表示（范围为 01 到 53），其中第 1 周是新年中至少有 4
            天的第一个周（即第一个星期四）。
          </td>
        </tr>
        <tr>
          <td><code class="code1">%w</code></td>
          <td>星期几以十进制表示（范围是 0 到 6），星期日为 0。另请参阅<code class="code1">%u</code> 。</td>
        </tr>
        <tr>
          <td><code class="code1">%x</code></td>
          <td>当前语言环境的首选日期表示形式，不包括时间。</td>
        </tr>
        <tr>
          <td><code class="code1">%X</code></td>
          <td>当前语言环境的首选时间表示形式，不包含日期。</td>
        </tr>
        <tr>
          <td><code class="code1">%y</code></td>
          <td>年份为不带世纪的十进制数（范围为 00 至 99）。</td>
        </tr>
        <tr>
          <td><code class="code1">%Y</code></td>
          <td>年份为包含世纪的十进制数。</td>
        </tr>
        <tr>
          <td><code class="code1">%z</code></td>
          <td>
            <code class="code1">+hhmm</code>或<code class="code1">-hhmm</code>数字时区（即与 UTC
            的小时和分钟偏移量）。
          </td>
        </tr>
        <tr>
          <td><code class="code1">%Z</code></td>
          <td>时区名称或缩写。</td>
        </tr>
        <tr>
          <td><code class="code1">%t</code></td>
          <td>短时区缩写。</td>
        </tr>
        <tr>
          <td><code class="code1">%0</code></td>
          <td>年份文字。已本地化，主要针对亚洲地区。（zh-CN：年，ko：년）</td>
        </tr>
        <tr>
          <td><code class="code1">%1</code></td>
          <td>月份文字。已本地化，主要针对亚洲地区。（中文：月，韩文：월）</td>
        </tr>
        <tr>
          <td><code class="code1">%2</code></td>
          <td>日字面意思。已本地化，主要针对亚洲地区。（ja：日，ko：일）</td>
        </tr>
      </tbody>
    </table>
    <h3 class="indent0">兼容性说明：</h3>
    <ul>
      <li><code class="code1">%c</code> - 格式化的字符串略有不同</li>
      <li>
        <code class="code1">%D</code>未实现（使用<code class="code1">%m/%d/%y</code>或<code class="code1"
          >%d/%m/%y</code
        >
        ）
      </li>
      <li><code class="code1">%e</code> - 不添加空格</li>
      <li><code class="code1">%E</code>未实现</li>
      <li><code class="code1">%h</code>未实现（使用<code class="code1">%b</code> ）</li>
      <li><code class="code1">%k</code> - 不添加空格</li>
      <li>
        <code class="code1">%n</code> - 与<code class="code1">%m</code>类似，但没有前导零（使用<code
          class="code1"
          >\n</code
        >表示换行符）
      </li>
      <li><code class="code1">%O</code>未实现</li>
      <li><code class="code1">%r</code>未实现（使用<code class="code1">%I:%M:%S %p</code> ）</li>
      <li><code class="code1">%R</code>未实现（使用<code class="code1">%H:%M</code> ）</li>
      <li><code class="code1">%t</code> - 未实现（使用<code class="code1">\t</code> ）</li>
      <li><code class="code1">%T</code>未实现（使用<code class="code1">%H:%M:%S</code> ）</li>
      <li><code class="code1">%U</code>未实现</li>
      <li><code class="code1">%W</code>未实现</li>
      <li><code class="code1">%+</code> - 未实现</li>
      <li><code class="code1">%%</code> - 未实现（使用<code class="code1">%</code> ）</li>
    </ul>
    <br />
    <h2 id="pdf_output_help">PDF 输出和自动文件命名</h2>
    <p>
      PDF 输出现在可以使用令牌系统自动命名并保存到预定义的 PDF
      输出目录中。这在打印多封选定的电子邮件时特别有用，因为无需为每封电子邮件选择名称和位置。
    </p>
    <p />
    <p>启用 PDF 输出目录并选择保存位置的目录。输出文件名将遵循配置的文件名格式。</p>
    <p />
    <p>
      文件名格式由标记和任何静态字符（如分隔符或空格）组成。扩展文件名格式使用标记。可以使用标记以及任何文本或有效的文件名字符构造准确的文件名。无效字符为：
      <code>| * : &lt; &gt; ? \ / &quot;</code>
    </p>
    <p />
    <p>默认名称格式为：${subject}，即电子邮件的主题。</p>
    <p />
    <p>例子</p>
    <p>
      <span class="notranslate"><code>${subject}</code></span> - 默认格式，电子邮件的主题<br /><span
        class="notranslate"
        ><code>${prefix}_${date_custom}_${sender}</code></span
      >
      - 使用自定义日期格式代替默认格式<br /><span class="notranslate"
        ><code>${subject}-GmailMsg-${date}-${index}</code></span
      >
      - 包含一些自定义文本<br />
    </p>
    <p>下表描述了文件名格式中可以使用的完整标记集。</p>
    <table class="token-table">
      <tr>
        <td>代币</td>
        <td>描述</td>
      </tr>
      <tr>
        <td class="notranslate"><code>${subject}</code></td>
        <td>邮件的主题。</td>
      </tr>
      <tr>
        <td class="notranslate"><code>${sender}</code></td>
        <td>消息发件人的姓名。</td>
      </tr>
      <tr>
        <td class="notranslate"><code>${recipient}</code></td>
        <td>消息收件人的姓名。</td>
      </tr>
      <tr>
        <td class="notranslate"><code>${sender_email}</code></td>
        <td>消息发件人的电子邮件地址。</td>
      </tr>
      <tr>
        <td class="notranslate"><code>${recipient_email}</code></td>
        <td>消息收件人的电子邮件地址。</td>
      </tr>
      <tr>
        <td class="notranslate"><code>${smart_name}</code></td>
        <td>如果邮件位于“已发送”文件夹中，则显示收件人，否则显示发件人姓名</td>
      </tr>
      <tr>
        <td class="notranslate"><code>${index}</code></td>
        <td>消息索引号。</td>
      </tr>
      <tr>
        <td class="notranslate"><code>${prefix}</code></td>
        <td>前缀文本选项值。</td>
      </tr>
      <tr>
        <td class="notranslate"><code>${suffix}</code></td>
        <td>后缀文本选项值。</td>
      </tr>
      <tr>
        <td class="notranslate"><code>${date}</code></td>
        <td>标准日期格式。默认格式为：YYYYMMDDHHmm</td>
      </tr>
      <tr>
        <td class="notranslate"><code>${date_custom}</code></td>
        <td>自定义日期格式。请参阅自定义日期格式部分。</td>
      </tr>
    </table>
    <br />
    <h2 id="print_options_help">打印和页面选项</h2>
    <p>
      这些选项允许您设置默认打印机以及每个打印机页面选项。还可以设置静音模式，其中不显示预览对话框并立即进行打印。
    </p>
    <p>
      页面选项允许您在预览或打印完成后设置项目。这些选项在打印过程中保持不变。如果在 PrintingTools NG
      中设置的选项在打印预览中发生更改，则不会影响后续打印。有些项目无法在预览对话框中设置，其中包括页眉和页脚。其他项目不会保留在预览中，通常必须在每次打印完成后进行设置。PrintingTools
      NG 解决了这两个问题。
    </p>
    <p>
      预览未保存的一项内容是页面范围。一个典型的用例是希望默认打印电子邮件的第一页。通常，每次都必须更改页面范围。请注意，如果
      PrintingTools NG
      中设置的页面范围无效（例如超出页数），则需要在打印前在预览中更正该范围。设置为“1”的页面范围将始终有效并打印邮件的第一页。
    </p>
    <p>笔记：</p>
    <p>缩放选项允许设置持久的比例。</p>
    <p>
      页码范围的描述方式与预览中相同。例如
      1、1-2、3-4、5。请注意，如果预设的页码范围对给定消息无效，则预览将显示错误。
    </p>
    <p>
      可以使用适合用户所在地区的单位来设置边距，即英寸或毫米（in 或 mm）。请注意，由于舍入误差，保存的一些 mm
      值可能会有细微差别。
    </p>
    <p></p>
    <p>
      页眉和页脚可以设置为包含下面列出的各种消息变量。此外，还可以包含任意文本。要不打印页眉或页脚并节省打印空间，只需将所有字段留空即可。
    </p>
    <div class="indent1">
      <li>&amp;D = 日期</li>
      <li>&amp;P = 页码</li>
      <li>&amp;PT = 带总页码（“3/5”）</li>
      <li>&amp;T = 页面标题（消息主题）</li>
      <li>&amp;U = URL（消息的 URL）</li>
    </div>
    <h2 id="advanced_options_help">高级选项</h2>
    <p>
      这些选项允许设置基本 UI
      设置以外的打印项目。目前，一个高级选项用于控制页眉和页脚的边缘边距。这些选项在“杂项”选项卡中的“高级选项”中设置，并以空格分隔。<br />格式为：<br /><br />
      P:<i>打印机名称</i>::S:<i>选项名称</i>=<i>值</i
      ><br /><br />打印机名称中的空格被下划线替换，内置的“保存为 PDF”为 Mozilla_Save_to_PDF<br /><br />另一个示例：Microsoft_Print_to_PDF<br /><br />当前的选项名称可能性为：<br />
      <span class="notranslate">edges, edgeTop, edgeBottom, edgeLeft, edgeRight</span><br /><br />
      <span class="notranslate">edges</span
      >是一个伪选项，将所有边距设置为相同的值。边距以英寸为单位。<br /><br />例子：<br /><br />
      P:Mozilla_Save_to_PDF::S:edges=0.25<br />
      P:Microsoft_Print_to_PDF::S:edgeTop=0.1<br /><br />如果要将所有边缘边距设置为 0.10 英寸（edgeTop 设置为
      0.25 英寸），请输入以下内容：<br /><br />
      P:Mozilla_Save_to_PDF::S:edges=0.10 P:Mozilla_Save_to_PDF::S:edgeTop=0.25
    </p>
    <h2>支持</h2>
    <p>
      请在扩展 GitHub 存储库中发布问题或功能请求：
      <a class="link1" href="https://github.com/cleidigh/printing-tools-ng/issues">PrintingTools NG 问题</a
      ><br /><br />在错误问题中，请包含以下信息以帮助解决问题：<br />
      - PrintingTools NG 版本<br />- 雷鸟版本<br />- 操作系统和版本<br />- 调试输出（从调试控制台复制 - 使用
      Control-Shift-J 访问）<br />
      - 导致问题的步骤描述<br />
    </p>
    <h2 id="debug_options_help">调试选项</h2>
    <p>调试选项是一组以空格分隔的关键字列表。这些选项通常用于控制台调试输出，但也可用于测试或不同的模式。</p>
    <div class="indent1">
      <li><code class="notranslate">initialsource</code>在 PTNG 进行任何格式化之前显示消息源</li>
      <li><code class="notranslate">finaloutput</code>显示最终的消息输出</li>
      <li><code class="notranslate">pdfoutput</code> -PDF 消息输出的调试输出</li>
      <li><code class="notranslate">printsettings</code> - 打印和页面选项的调试输出</li>
      <li>
        <code class="notranslate">helpinwin</code> -
        模式标志，用于在窗口中显示帮助，而不是在选项卡中显示标准帮助
      </li>
    </div>
    <h2>致谢</h2>
    <div class="indent1">
      <li>PrintingTools NG 基于 Paolo“Kosmos”的原始扩展</li>
      <li>Jonny Strömberg 的 List.js https://listjs.com</li>
      <li>Latinize.js 作者：Jakub Dundalek https://github.com/dundalek/latinize</li>
    </div>
    <p>
      感谢以下用户提供的增强建议和测试帮助：<br /><br />
      - <code class="notranslate">@kiki-ja (major release and feature management help)</code><br />
      - <code class="notranslate">@RRoenn</code><br />
      - <code class="notranslate">@tidebre67</code><br />
      - <code class="notranslate">@reinerblock</code><br />
      - <code class="notranslate">@querixg</code><br />
      - <code class="notranslate">@jobisoft</code><br />
      - <code class="notranslate">@JF1313</code><br />
      - <code class="notranslate">@DenB10</code><br />
      - <code class="notranslate">@ichnilatis-gr</code><br />
      - <code class="notranslate">@KC-T</code><br />
      - <code class="notranslate">@madvinegar</code><br />
      - <code class="notranslate">@ditchfinder</code><br />
      - <code class="notranslate">@3LaHoonK</code><br />
      - <code class="notranslate">@realraven</code><br />
      - <code class="notranslate">@librelegal</code><br />
      - <code class="notranslate">@Francewhoa</code><br />
      - <code class="notranslate">@foxfan100</code><br />
      - <code class="notranslate">@pechh</code><br />
    </p>
    <script type="text/javascript" src="../../help.js"></script>
  </body>
</html>
